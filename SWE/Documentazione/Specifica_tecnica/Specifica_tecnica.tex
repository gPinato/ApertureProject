
%includo il file che contiene la versione dei documenti
\input{../Logo&Header/versioneDocumenti.tex}

\newcommand{\Versione}{\versioneSpecificaTecnica{}}	  %Versione Finale
\newcommand{\Data}{xxxx-xx-xx}				           %Data di creazione
\newcommand{\DataUltimaModifica}{xxxx-xx-xx}
\newcommand{\TipoDocumento}{Specifica Tecnica}	       %tipo documento

%includo il file header.tex (logo grande in prima pagina piu qualche altra regola)
\input{../Logo&Header/header.tex}

%\vspace{.05in}

%informazioni documento
\begin{center}
%\section{Informazioni documento}
\begin{tabular}{r|l}
%\textbf{Nome} &\TipoDocumento \\
\textbf{Versione} & \Versione{} \\
\textbf{Data creazione} & \Data{} \\
\textbf{Data ultima modifica} & \DataUltimaModifica{} \\
\textbf{Stato del Documento} & Formale \\		          %CAMBIARE QUI
\textbf{Uso del Documento} & Esterno \\			          %CAMBIARE QUI
\textbf{Redazione} &  nome1,nome2,...\\		        %CAMBIARE QUI
\textbf{Verifica} & nome1,nome2,...\\			        %ED ANCHE QUI!
\textbf{Approvazione} & nome1,nome2,...\\				 %CAMBIARE QUI
\textbf{Distribuzione} & \parbox[t]{4cm}{\NomeGruppo{}}\\
\end{tabular}
\end{center}

\vspace{0.05in}

%inizio sommario del documento
\begin{abstract}
\begin{center}
Questo documento si propone di presentare la Specifica tecnica e architetturale per la Realizzazione del prodotto \textbf{MaaP}.
\end{center}
\end{abstract}

%\vspace{.4in}

%seconda pagina, diario delle modifiche
\newpage
Diario delle modifiche
\begin{center}
\begin{longtable}{|c|c|c|p{0.5\linewidth}|}
\toprule
\textbf{Versione} & \textbf{Data} & \textbf{Autore} & \textbf{Modifiche effettuate}\\

%aggiungere qui una midrule per aggiungere una nuova riga alla tabella
\midrule
1.2.0 & 2014-02-xx & ... (RE) & Approvazione documento\\
\midrule
1.1.0 & 2014-02-xx & ... (VE) & Verifica documento\\
\midrule
1.0.4 & 2014-02-xx & ... (AN) & bla bla\\
\midrule
1.0.3 & 2014-02-xx & ... (AN) & bla bla\\
\midrule
1.0.2 & 2014-02-xx & ... (AN) & bla bla\\
\midrule
1.0.0 & 2014-01-24 & Giacomo Pinato (PR) & Prima stesura del documento\\

\bottomrule
\caption{Registro delle modifiche}
\label{tab:changelog}

\end{longtable}
\end{center}

%terza pagina Indice (viene aggiornato in automatico con due compilazioni)
\newpage
\tableofcontents

%pagine successive hanno la lista di tabelle e lista delle figure
%(vengono aggiornate in automatico)
%\newpage
%\listoftables
%\listoffigures

%qui inizia la prima pagina ufficiale
\newpage
\section{Introduzione}
\label{1.0}
\subsection{Scopo del documento}
\label{1.1}
Il presente documento ha lo scopo di definire la progettazione ad alto livello del progetto \textbf{MaaP}, a partire dai requisiti individuati durante l'Analisi. Verrà presentata l'architettura generale secondo la quale saranno organizzate le varie componenti software, i \gloss{Design Pattern} e le tecnologie utilizzate per poi descrivere più dettagliatamente le varie componenti e relative dipendenze.

\subsection{Scopo del prodotto}
\label{1.2}
\Prodotto{}

\subsection{Glossario}%1.2
\label{1.3}
\Glossario{}

\subsection{Riferimenti}
\label{1.4}

\subsubsection{Normativi}
\label{1.4.1}
\begin{itemize}
\item \grassetto{Analisi dei requisiti}: Analisi\_{}dei\_{}Requisiti\_{}v\versioneNormeDiProgetto{}.pdf
\item Norme di Progetto: Norme\_{}di\_{}Progetto\_{}v\versioneNormeDiProgetto{}.pdf  (allegato alla presente documentazione)\\
\end{itemize}

\subsubsection{Informativi}
\label{1.4.2}
\begin{itemize}
\item Learning Node: O'Reilly Shelley Powers
\item AngularJS: O'Reilly Brad Green e Shyam Seshadri
\item Software Engineering (8th edition), Ian Sommerville, Pearson Education | Addison-Wesley
\item Design Patterns, E. Gamma, R. Helm, R. Johnson, J. Vlissides, Pearson Education | Addison-Wesley
\item Dall'idea al codice con UML 2       L. Baresi, L. Lavazza, M. Pianciamore, Pearson Education
\end{itemize}

\newpage
\section{Tecnologie utilizzate}
In questa sezione verrano elencate e descritte le tecnologie che si utilizzeranno durante lo sviluppo del progetto. In particolare la colonna portante del progetto sar\`{a} lo stack MEAN, ovvero MongoDB, Express, Angular e Node.js.

\subsection{MongoDB}
Il database con il quale la nostra applicazione dovrà interagire è realizzato con MongoDB, come specificato nel capitolato. Questa tecnologia offre i seguenti vantaggi:
\begin{itemize}
\item Facile indicizzazione: Ogni campo in MongoDB puo' diventare un indice;
\item Bilanciamento di carico: MongoDB scala orizzontalmente molto facilmente grazie all'utilizzo di shard;
\item Integrazione con Javascript: Query o altre funzioni scritte in Javascript possono essere eseguite direttamente dal dabatase;

\end{itemize}

\subsection{Javascript}
Si è deciso di utilizzare Javascript in quanto è il linguaggio su cui si basano tutte le altre tecnologie che andremo ad utilizzare, e offre quindi una facile integrazione, oltre ad essere un ottimo linguaggio per applicazioni web e client side.


\subsection{NodeJs}
Si è deciso di utilizzare il linguaggio Node.js in quanto consigliato dal capitolato e adatto al progetto. Le sue caratteristiche piu' vantaggiose sono:
\begin{itemize}
\item Modello event-driven: ovvero "programmazione ad eventi", che si basa su un concetto semplice: il flusso del programma non segue un corso specifico ma è guidato dalle azioni dell'utilizzatore;
\item Modello asincrono: grazie a questa caratteristica è possibile ridurre al minimo i tempi di morti in quanto, nell’attesa dell completamento di una operazione, si procede con altri flussi logici. 
\item Grande scalabilità: Grazie al modo in cui è implementato, Node.js riesce ad essere largamente scalabile con minimo sforzo.

\end{itemize}

\subsection{jQuery}
Per migliorare e semplificare la scrittura di funzioni nel linguaggio JavaScript, si è deciso di adottare il framework jQuery. I vantaggi sono:
\begin{itemize}
\item Semplicità: l'utilizzo di jQuery semplifica e facilita la scrittura di codice JavaScript, inoltre offre plug-in on-line per fornire nuove funzionalità.
\end{itemize}
Svantaggi:
\begin{itemize}
\item Pericolosità: jQuery offre funzionalità e plug-in molto utili, ma non tutto è compatibile con i vari browser, inoltre alcune funzionalità possono essere vecchie, non aggiornate o scritte male.
\end{itemize}

\subsection{JSON}
Rappresenta il tipo di messaggi con cui client e server si scambiano informazioni. I vantaggi offerti sono:
\begin{itemize}
\item Semplicità: i messaggi JSON sono più corti rispetto ad altri formati di interscambio, e vengono eseguiti più velocemente dal parser. JSON inoltre risulta più semplice e immediato rispetto ad esempio a XML.
\end{itemize}
Svantaggi:
\begin{itemize}
\item Restrittività: JSON è meno restrittivo rispetto ad XML, e questo può permettere di inserire errori nello scambio di messaggi.
\end{itemize}

\subsection{AngularJs}

\begin{itemize}
\item Two Way Data-Binding: Una delle caratteristiche principali di angular. Le modifiche apportate al model si rifletto direttamente sugli elementi del DOM, e le modifiche al DOM si ripercuotono automaticamente sul model. Questo alleggerisce tremendamente il codice necessario a controllare ad ascoltare e gestire il DOM, automatizzando il processo. E noi sappiamo che automatico \`{e} bene.
\item Templates: I template HTML sono parsati dal browswe nel DOM,il quale costituisce poi l’input per il compilatore Angular. Quest’ultimo poi crea il data binding tra il DOM e lo scope dei dati. Uno dei piu’ grandi vantaggi di questa tecnica e’ che separa presentazione da implementazione, in quanto i template html possono modificati senza alterare il modo in cui sono inseriti i dati.
\item Dependecy Injection: Angular possiede nativamente una “dependecy injection”, che aiuta gli sviluppatori permettendo facilitando lo sviluppo, la compresione e il testing dell’applicazione.
\item Directives: Le directives possono essere usate per definire tag HTML personalizzati che fungono da widget. Possono inoltre essere usate per “decorare” elementi con comportamenti personalizzati o per manipolare attributi del DOM. 

\end{itemize}

\subsection{HTML5}

\newpage
\section{Descrizione architettura}
\subsection{Metodo e formalismo di specifica}
Si è deciso di procedere utilizzando un approccio top-down per l’esposizione          dell’architettura dell’applicazione, ovvero descrivendo inizialmente le componenti in generale per poi arrivare a trattarle al particolare.
Si descriveranno i package e i componenti per poi dettagliare le singole classi, specificando per ciascuna di esse il tipo, l’obiettivo e la funzionalità. Poi si passerà ad illustrare degli esempi d’uso di Design Pattern (descritti approfonditamente nell’ Appendice A) e le tecnologie utilizzate.
Per facilitare la lettura dei diagrammi di package e di classe si farà uso di vari colori per distinguere le componenti.

\subsection{Architettura generale}
L’architettura generale del prodotto è basata sul Design Pattern MVC ed è quindi suddivisa in tre componenti principali: Model, View e Controller. Il Model e il Controller si trovano sul lato server dell’applicazione, mentre la View viene collocata a lato client. Quest’ultima a sua volta implementa il Design Pattern MVW, su cui si basa Angular, per il mantenimento temporaneo dei dati e la loro visualizzazione.\\

Il seguente diagramma rappresenta l'architettura ad alto livello del framework, indicando i package e le relazioni che intercorrono tra questi.

...TODO aggiungere diagramma dell'installer CLI comprensivo di descrizione...

\immagine{./Diagrammi/GeneralePackage}{MaaP, Diagramma generale package}
...TODO aggiungere descrizione...

\immagine{./Diagrammi/GeneraleClassi}{MaaP, Diagramma generale classi}
...TODO aggiungere descrizione...

\newpage
\subsubsection{Model}
\immagine{./Diagrammi/ModelClassi}{MaaP, Diagramma classi model}
Il model contiene:
\begin{itemize}
\item Il database di analisi e quello degli utenti
\item I file DSL e il parser che li interpreta
\item I package dediti al recupero e alla gestione dei dati richiesti dal controller
\end{itemize}
Tutte le operazioni di gestione, modifica e recupero dei dati vengono messe a disposizione dal model. In tal modo il controller è responsabile solamente di gestire la logica dell’applicazione.

\subsubsection{Controller}
\immagine{./Diagrammi/ControllerClassi}{MaaP, Diagramma classi controller}
Il controller è responsabile dell’autenticazione delle richieste e del loro routing da client a model e viceversa.

\subsubsection{View}
\immagine{./Diagrammi/ClientClassi}{MaaP, Diagramma classi client}
La View, essendo gestita da Angular, è a sua volta composta da una View, un Controller ed un Model. Scope e View sono collegati da un “two way data binding”, ovvero le modifiche apportate ad uno dei due si riflettono immediatamente anche nell’altro.
I dati ricevuti dal server vengono caricati sullo Scope, il quale aggiorna automaticamente la View. Quest’ultima aggiorna lo Scope in caso di modifiche da parte dell’utente finale.

\newpage
\section{Componenti e Classi}

\subsection{MaaP}
\subsubsection{Informazioni sul package}
\immagine{./Diagrammi/ClientClassi}{Componente MaaP}
\paragraph{Descrizione}

\paragraph{Sottocomponenti}
\begin{itemize}
\item MaaP::bla1 bla1
\item MaaP::bla2 bla2
\end{itemize}

\newpage
\section{Diagrammi di attività}

\newpage
\section{Design Pattern Utilizzati}%7.0
\subsection{Design Pattern architetturali} %7.1
\begin{itemize}
\item MVC
\end{itemize}
\subsection{Design Pattern creazionali} %7.2
\begin{itemize}
\item Singleton
\end{itemize}
\subsection{Design Pattern comportamentali} %7.3
\begin{itemize}
\item Factory
\end{itemize}
\subsection{Design Pattern strutturali} %7.3
\begin{itemize}
\item Facade
\item Adapter
\end{itemize}

\newpage
\section{Stime di fattibilità e di bisogno di risorse}%8.0

\newpage
\section{Tracciamento} %9.0
\subsection{Tracciamento componenti - requisiti} %9.1
\subsection{Tracciamento requisiti - componenti} %9.2

\newpage
\appendix
\section{Descrizione Design Pattern} %A.0

\subsection{Design Pattern architetturali} %A.1
\subsection{Design Pattern 1} %A.1.1
\begin{itemize}
\item \grassetto{Scopo:} 
\item \grassetto{Motivazione:} 
\item \grassetto{Applicabilità:}
\end{itemize}

\subsection{Design Pattern creazionali} %A.2
\subsection{Design Pattern 1} %A.2.1
\begin{itemize}
\item \grassetto{Scopo:} 
\item \grassetto{Motivazione:} 
\item \grassetto{Applicabilità:}
\end{itemize}

\subsection{Design Pattern strutturali} %A.3
\subsection{Design Pattern 1} %A.3.1
\begin{itemize}
\item \grassetto{Scopo:} 
\item \grassetto{Motivazione:} 
\item \grassetto{Applicabilità:}
\end{itemize}

\subsection{Design Pattern comportamentali} %A.4
\subsection{Design Pattern 1} %A.4.1
\begin{itemize}
\item \grassetto{Scopo:} 
\item \grassetto{Motivazione:} 
\item \grassetto{Applicabilità:}
\end{itemize}

%FINE DOCUMENTO NON CANCELLARE
\end{document}