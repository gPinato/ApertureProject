
%includo il file che contiene la versione dei documenti
\input{../Logo&Header/versioneDocumenti.tex}

\newcommand{\Versione}{\versioneManualeUtente{}} %Versione Finale
\newcommand{\Data}{2014-04-04}				     %Data di creazione
\newcommand{\DataUltimaModifica}{2014-03-24}
\newcommand{\TipoDocumento}{User Manual}	 	%tipo documento

%includo il file header.tex (logo grande in prima pagina piu qualche altra regola)
\input{../Logo&Header/header.tex}
%\vspace{.05in}

%informazioni documento
\begin{center}
%\section{Informazioni documento}
\begin{tabular}{r|l}
%\textbf{Nome} &\TipoDocumento \\
\textbf{Versione} & \Versione{} \\
\textbf{Data creazione} & \Data{} \\
\textbf{Data ultima modifica} & \DataUltimaModifica{} \\
\textbf{Stato del Documento} & Formale \\		          %CAMBIARE QUI
\textbf{Uso del Documento} & Esterno \\			          %CAMBIARE QUI
\textbf{Redazione} &  Pinato Giacomo\\
\textbf{Verifica} & XXXXXXXXXXX\\  %ED ANCHE QUI!
\textbf{Approvazione} & XXXXXXXXXXX\\				      %CAMBIARE QUI
\textbf{Distribuzione} & \parbox[t]{4cm}{\NomeGruppo{}\\Prof. Vardanega Tullio\\Prof. Cardin Riccardo\\ \Prop{} }\\
\end{tabular}
\end{center}

\vspace{0.05in}

%inizio sommario del documento
\begin{abstract}
\begin{center}
\Progetto{} User manual.
\end{center}
\end{abstract}

%\vspace{.4in}

%seconda pagina, diario delle modifiche
\newpage
Diario delle modifiche
\begin{center}
\begin{longtable}{|c|c|c|p{0.5\linewidth}|}
\toprule
\textbf{Versione} & \textbf{Data} & \textbf{Autore} & \textbf{Modifiche effettuate}\\

%aggiungere qui una midrule per aggiungere una nuova riga alla tabella
\midrule
4.2.0 & 2014-05-24 & Michele Maso (RE) & Approvazione documento.\\
\midrule
4.1.1 & 2014-05-22 & Alessandro Benetti (VR) & Verifica documento.\\
\midrule
4.1.0 & 2014-05-20 & Alberto Garbui (VR) & Verifica documento.\\

\midrule
4.0.1 & 2014-04-04 & Giacomo Pinato (PR) & Stesura manuale.\\
\midrule
4.0.1 & 2014-04-04 & Alberto Garbui (PR) & Prima stesura del documento.\\

\bottomrule
\caption{Registro delle modifiche}
\label{tab:changelog}

\end{longtable}
\end{center}

%terza pagina Indice (viene aggiornato in automatico con due compilazioni)
\newpage
\tableofcontents

%pagine successive hanno la lista di tabelle e lista delle figure
%(vengono aggiornate in automatico)
\newpage
%\listoftables	%tabelle

%qui inizia la prima pagina ufficiale
\newpage
\section{Introduction}
\subsection{Document purpose}
This document wants to be a reference guide for a developer user. \\
This will guide you through the installation, cofiguration and maintenance of the MaaP framework.

\newpage
\section{MaaP}
Hello and welcome to MaaPerture User Manual.
In this manual we'll go through all the stuff you need to do to get MaaPerture up and running in no time, while also taking a look at some more advanced features.

\section{Prerequirements}
The only thing you need before installing MaaPerture is node.js.
You can download the latest version of node.js from the official website
\begin{center}
http://nodejs.org/
\end{center}

\section{Quick Start}
The quickest way to get MaaPerture is to get it directly from npm using
\begin{center}
npm install -g maaperture
\end{center}

You can also install it from a local npm package using 
\begin{center}
npm install . -g
\end{center}

The "-g" option allows MaaPerture to be installed globally and thus allows you to launch it from everywhere on your computer.
We will go through all the other options in section \ref{commands}.

After you've installed MaaPerture you want to create your first project.
To do this open a terminal in the directory you want your project to be created in and just type
\begin{center}
 maaperture create -N myFirstProject
\end{center}

This will create a new project named myFirstProject.
Now you just need to type
\begin{center}
npm start
\end{center}

and your server will be up and running!




\newpage
\section{Configuration file}

The configuration file is located inside   maap\_ project and by default is configured as so:


\begin{verbatim}
exports.app = app = {
	env: 'development',
	title: 'Maaperture',
	description: 'MongoDB as an Admin Platform - Aperture Software',
	host: 'localhost',
	port: 9000,
	ssl: false
}

\end{verbatim}

This first snippet contains the title and description of your application, the address where your server will be hosted, the port used and the ssl enable or disable setting.

\begin{verbatim}
exports.adminConfig = {
	usersPerPage: 20,
	queriesPerPage: 2,
	queriesToShow: 100,
	indexesPerPage: 20
}
\end{verbatim}

This second snippet contains setting about the web pages that the framework will generate such as the number of users profile displayed per page in the users collection, the number of queries per page on the queries collection, the total queries to show and the indexes per page on the indexes collection.

\begin{verbatim}
exports.session = {
	secret: 'boomShakalaka!YO',
	max_age: 3600000 // one hour (60s * 60m * 1000ms)
}
\end{verbatim}

This snippet contains setting regarding the session, such as the session secret and the time of expiration of session cookies.

\begin{verbatim}
exports.userDB = {
	host: 'localhost',
	port: 27017,
	db_name: 'utenti',
	usersCollection: 'users',
	queryCollection: 'query'
}

exports.dataDB = {
	host: 'localhost',
	port: 27017,
	db_name: 'dati'
}
\end{verbatim}

These two snippets contains the settings of the user database and business database.
You can specify the host of both databases, the port used, and the name.

For the user database you can also specify the collection containing the users data and the query manager.


\begin{verbatim}
exports.static_assets = {
	dir: __dirname + '/app',
	views: __dirname + '/views',
	dsl: __dirname + '/dsl'
}
\end{verbatim}

This last snippets sets the directory used by the framework and should not be messed with unless by expert developers.


\section{Commands and options}

\subsection{Commands}
\label{commands}
The only command available on MaaPerture for now is create, which is the command used to create a new project.

\subsection{Options}
\label{options}
The following options are available:
\begin{itemize}
\item -h, --help    :              output usage information
\item -V, --version  :             output the version number
\item -N, --name [project\_ name] :  specify the project's name
\item -O, --output [output\_ path] : specify the output path [./]
\end{itemize}

%FINE DOCUMENTO NON CANCELLARE
\end{document}
